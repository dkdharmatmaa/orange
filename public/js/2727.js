"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2727],{8969:(t,e,n)=>{n.d(e,{Z:()=>o});var i=n(3645),a=n.n(i)()((function(t){return t[1]}));a.push([t.id,".create_btn[data-v-08416f92]{background:#00a1e4}#fade[data-v-08416f92]{display:none}button[data-v-08416f92]{border:0!important}",""]);const o=a},2727:(t,e,n)=>{n.r(e),n.d(e,{default:()=>p});var i=n(478);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==a(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==a(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===a(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const c={data:function(){return{main_arr:[],add_incomebind_active:!1,incomebind_min:"",incomebind_max:"",edit_incomebind:!1,association_id:"",branch_id:"",options_association:[],options_branch:[]}},methods:{add_plan:function(t){var e=this.main_arr[t],n=e.plan_name;e.fields.push(n);for(var i=0;i<e.items;i++)e.items[i].push({main_plan:""});this.main_arr[t].plan_name=""},add_no_of_people:function(t){var e=this.main_arr[t].fields.reduce((function(t,e){return r(r({},t),{},s({},e,""))}),{});this.main_arr[t].items.push(e)},add_incomebind:function(){this.main_arr.push({minmum_range:this.incomebind_min,maximum_range:this.incomebind_max,plan_name:"",fields:["index","action","no_of_peoples"],items:[{index:"",action:"",no_of_peoples:1}]}),this.add_incomebind_active=!1,this.incomebind_min="",this.incomebind_max=""},copy_plan:function(t){var e=this.main_arr[t],n=$.extend(!0,{},e);this.main_arr.push(n)},delete_plan:function(t,e,n){this.main_arr[t].fields.splice(e,1);for(var i=0;i<this.main_arr[t].items.length;i++)delete this.main_arr[t].items[i][n]},delete_row:function(t,e){this.main_arr[t].items.splice(e,1)},onSubmit:function(t){var e=this;t.preventDefault(),this.association_id&&this.branch_id?i.Z.post("/superadmin/create-matrix/".concat(this.association_id,"/").concat(this.branch_id),this.main_arr).then((function(t){t.data;e.$router.push("/superadmin/all-matrix")})).catch((function(t){})):alert("Select correct Association and Branch")},getAssociation:function(){var t=this;this.options_branch.push({value:"",text:"Select branch"}),i.Z.get("/superadmin/all-admin").then((function(e){var n=e.data,i=[];i.push({value:"",text:"Select association"});for(var a=0;a<n.length;a++)i.push({value:n[a].id,text:n[a].name});t.options_association=i}))},getBranches:function(){var t=this;this.association_id&&i.Z.get("/superadmin/all-branch/0/".concat(this.association_id)).then((function(e){var n=e.data,i=[];i.push({value:"",text:"Select branch"});for(var a=0;a<n.length;a++)i.push({value:n[a].id,text:n[a].name});t.options_branch=i}))}},mounted:function(){this.getAssociation()}};var l=n(3379),d=n.n(l),m=n(8969),u={insert:"head",singleton:!1};d()(m.Z,u);m.Z.locals;const p=(0,n(1900).Z)(c,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"mt-5"},[e("div",{staticClass:"d-flex"},[e("h2",{staticClass:"font-weight-bolder"},[t._v("Membership plans")]),t._v(" "),e("b-form-group",{staticClass:"ml-3"},[e("b-form-select",{staticClass:"input-box text-seconday",attrs:{id:"input-3",options:t.options_association,required:""},on:{change:function(e){return t.getBranches()}},model:{value:t.association_id,callback:function(e){t.association_id=e},expression:"association_id"}})],1),t._v(" "),e("b-form-group",{staticClass:"ml-3"},[e("b-form-select",{staticClass:"input-box text-seconday",attrs:{id:"input-4",options:t.options_branch,required:""},model:{value:t.branch_id,callback:function(e){t.branch_id=e},expression:"branch_id"}})],1),t._v(" "),e("div",{staticClass:"ml-3"},[e("button",{staticClass:"btn create_btn font-weight-bolder text-white",on:{click:function(e){t.add_incomebind_active=!t.add_incomebind_active}}},[t._v("Add income band")])])],1),t._v(" "),t.add_incomebind_active?e("div",{staticClass:"d-flex mt-8"},[e("h5",{staticClass:"mt-3 font-weight-bolder"},[t._v("Income band")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.incomebind_min,expression:"incomebind_min"}],staticClass:"border rounded border-secondary bg-white ml-2 p-1",attrs:{type:"number",placeholder:"Minimum income in $"},domProps:{value:t.incomebind_min},on:{input:function(e){e.target.composing||(t.incomebind_min=e.target.value)}}}),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.incomebind_max,expression:"incomebind_max"}],staticClass:"border rounded border-secondary bg-white ml-2 p-1",attrs:{type:"number",placeholder:"Maximum income in $"},domProps:{value:t.incomebind_max},on:{input:function(e){e.target.composing||(t.incomebind_max=e.target.value)}}}),t._v(" "),e("button",{staticClass:"btn create_btn font-weight-bolder py-2 ml-2 text-white",on:{click:function(e){return t.add_incomebind()}}},[t._v("Save details")])]):t._e(),t._v(" "),t._l(t.main_arr,(function(n,i){return e("div",{key:n.name},[e("div",{staticClass:"bg-white px-5 py-10 mt-5 rounded"},[t.edit_incomebind?e("div",{staticClass:"d-flex my-8"},[e("input",{directives:[{name:"model",rawName:"v-model",value:n.minmum_range,expression:"single_arr.minmum_range"}],staticClass:"border rounded border-secondary bg-white ml-2 p-1",attrs:{type:"number",placeholder:"Minimum income in $"},domProps:{value:n.minmum_range},on:{input:function(e){e.target.composing||t.$set(n,"minmum_range",e.target.value)}}}),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:n.maximum_range,expression:"single_arr.maximum_range"}],staticClass:"border rounded border-secondary bg-white ml-2 p-1",attrs:{type:"number",placeholder:"Maximum income in $"},domProps:{value:n.maximum_range},on:{input:function(e){e.target.composing||t.$set(n,"maximum_range",e.target.value)}}}),t._v(" "),e("button",{staticClass:"btn create_btn font-weight-bolder py-2 ml-2 text-white",on:{click:function(e){t.edit_incomebind=!t.edit_incomebind}}},[t._v("Save")])]):e("div",{staticClass:"d-flex"},[e("h3",{staticClass:"font-weight-bolder mb-4"},[t._v("Income band - $"+t._s(n.minmum_range)+"-$"+t._s(n.maximum_range))]),t._v("\n          Â "),e("span",{on:{click:function(e){t.edit_incomebind=!t.edit_incomebind}}},[e("i",{staticClass:"fas fa-edit"})])]),t._v(" "),e("button",{staticClass:"create_btn font-weight-bolder text-white rounded p-1"},[t._v("+Add plan")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:n.plan_name,expression:"single_arr.plan_name"}],staticClass:"rounded p-1",staticStyle:{border:"2px solid silver"},attrs:{type:"text"},domProps:{value:n.plan_name},on:{blur:function(e){return t.add_plan(i)},input:function(e){e.target.composing||t.$set(n,"plan_name",e.target.value)}}}),t._v(" "),e("b-table",{staticStyle:{"white-space":"nowrap"},attrs:{responsive:"",items:n.items,fields:n.fields},scopedSlots:t._u([t._l(n.fields,(function(n,a){return{key:"head(".concat(n,")"),fn:function(n){return["index"!=n.field.key?e("span",{domProps:{innerHTML:t._s(n.field.label)}}):t._e(),t._v(" "),"action"!=n.field.key&&"index"!=n.field.key&&"no_of_peoples"!=n.field.key?e("span",{staticClass:"text-danger",on:{click:function(e){return t.delete_plan(i,a,n.field.key)}}},[t._v(" | "),e("svg",{staticClass:"bi bi-trash",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[e("path",{attrs:{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}}),e("path",{attrs:{"fill-rule":"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"}})])]):t._e()]}}})),t._l(n.fields,(function(n){return{key:"cell(".concat(n,")"),fn:function(n){return["action"==n.field.key?[e("span",{staticClass:"text-danger",on:{click:function(e){return t.delete_row(i,n.index)}}},[e("svg",{staticClass:"bi bi-trash",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[e("path",{attrs:{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}}),e("path",{attrs:{"fill-rule":"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"}})])])]:"index"!=n.field.key?[e("input",{directives:[{name:"model",rawName:"v-model",value:n.item[n.field.key],expression:"data.item[data.field.key]"}],staticClass:"rounded p-1",staticStyle:{border:"2px solid silver"},attrs:{type:"text"},domProps:{value:n.item[n.field.key]},on:{input:function(e){e.target.composing||t.$set(n.item,n.field.key,e.target.value)}}})]:t._e()]}}}))],null,!0)}),t._v(" "),e("div",[e("button",{staticClass:"create_btn font-weight-bolder text-white rounded p-1",on:{click:function(e){return t.add_no_of_people(i)}}},[t._v("+Add people")]),t._v(" "),e("span",{staticClass:"glyphicon glyphicon-folder-open bg-success float-right py-1 px-3 text-white rounded",on:{click:function(e){return t.copy_plan(i)}}},[e("i",{staticClass:"fas fa-copy text-white"}),t._v(" Copy")])])],1)])})),t._v(" "),e("div",{staticClass:"my-10 text-center"},[t.main_arr.length?e("button",{staticClass:"btn create_btn font-weight-bolder text-white w-50 h3",on:{click:t.onSubmit}},[t._v("Submit all details")]):t._e()])],2)}),[],!1,null,"08416f92",null).exports}}]);