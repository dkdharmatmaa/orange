"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6923],{9055:(t,e,s)=>{s.d(e,{Z:()=>r});var a=s(3645),i=s.n(a)()((function(t){return t[1]}));i.push([t.id,".fw-700[data-v-7395e01c]{font-weight:700}.input-box[data-v-7395e01c]{border:1px solid silver}.create_btn[data-v-7395e01c]{background:#00a1e4}#fade[data-v-7395e01c]{display:none}",""]);const r=i},6923:(t,e,s)=>{s.r(e),s.d(e,{default:()=>u});var a=s(478);const i={data:function(){return{user_form:new Form({id:"",name:"",email:"",password:"",association_id:"",branch_id:"",is_admin:!1}),options_association:null,options_branch:[],action:"Add"}},methods:{onSubmit:function(t){var e=this;t.preventDefault(),"Add"==this.action?a.Z.post("/superadmin/create-user",this.user_form).then((function(t){t.data;e.$router.push("/superadmin/all-users")})).catch((function(t){})):a.Z.put("/superadmin/edit-user/".concat(this.user_form.id),this.user_form).then((function(t){t.data;$("#fade").fadeToggle(1e3),$("#fade").fadeToggle(1e3)}))},getData:function(t){var e=this;a.Z.get("/superadmin/all-user/".concat(t)).then((function(t){var s=t.data;e.user_form.fill(s[0]),e.getBranches(),e.user_form.branch_id=s[0].branch_id+"/////"+s[0].branch_name}))},getAssociation:function(){var t=this;a.Z.get("/superadmin/all-admin").then((function(e){var s=e.data,a=[];a.push({value:"",text:"Select association"});for(var i=0;i<s.length;i++)a.push({value:s[i].id,text:s[i].name});t.options_association=a,t.options_branch.push({value:"",text:"Select branch"})}))},getBranches:function(){var t=this;this.user_form.association_id&&a.Z.get("/superadmin/all-branch/0/".concat(this.user_form.association_id)).then((function(e){var s=e.data,a=[];a.push({value:"",text:"Assign branch"});for(var i=0;i<s.length;i++)a.push({value:s[i].id+"/////"+s[i].name,text:s[i].name});t.options_branch=a}))}},mounted:function(){this.get_item&&(this.getData(this.get_item),this.action="Edit"),this.getAssociation()},computed:{get_item:function(){return this.$route.params.id?this.$route.params.id:0}}};var r=s(3379),o=s.n(r),n=s(9055),c={insert:"head",singleton:!1};o()(n.Z,c);n.Z.locals;const u=(0,s(1900).Z)(i,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"mt-10 p-5"},[e("b-form",{staticClass:"w-md-50 fw-700",on:{submit:t.onSubmit}},[e("h3",{staticClass:"fw-700"},[t._v(t._s(t.action)+" users")]),t._v(" "),e("div",{staticClass:"bg-white p-10 rounded"},[e("div",{staticClass:"d-flex mb-7"},[e("b-form-input",{staticClass:"mx-1 input-box",attrs:{id:"input-1",type:"text",required:"",placeholder:"Name"},model:{value:t.user_form.name,callback:function(e){t.$set(t.user_form,"name",e)},expression:"user_form.name"}}),t._v(" "),e("b-form-input",{staticClass:"mx-1 input-box",attrs:{id:"input-2",type:"email",required:"",placeholder:"Email address",readonly:"Edit"==t.action},model:{value:t.user_form.email,callback:function(e){t.$set(t.user_form,"email",e)},expression:"user_form.email"}})],1),t._v(" "),e("b-form-group",[e("b-form-select",{staticClass:"ml-1 input-box text-seconday",attrs:{id:"input-3",options:t.options_association,required:""},on:{change:function(e){return t.getBranches()}},model:{value:t.user_form.association_id,callback:function(e){t.$set(t.user_form,"association_id",e)},expression:"user_form.association_id"}})],1),t._v(" "),e("b-form-group",[e("b-form-select",{staticClass:"ml-1 input-box text-seconday",attrs:{id:"input-4",options:t.options_branch,required:""},model:{value:t.user_form.branch_id,callback:function(e){t.$set(t.user_form,"branch_id",e)},expression:"user_form.branch_id"}})],1),t._v(" "),"Add"==t.action?e("b-form-group",[e("b-form-input",{staticClass:"ml-1 input-box",attrs:{id:"input-5",type:"password",required:"",placeholder:"Password"},model:{value:t.user_form.password,callback:function(e){t.$set(t.user_form,"password",e)},expression:"user_form.password"}})],1):t._e(),t._v(" "),e("div",[e("div",{staticClass:"d-flex"},[e("div",{staticClass:"flex-fill border-top border-2 border-secondary h1"}),t._v(" "),e("div",{staticClass:"h6 text-center font-weight-bolder"},[t._v("Permission")]),t._v(" "),e("div",{staticClass:"flex-fill border-bottom border-2 border-secondary h1"})]),t._v(" "),e("p",{staticClass:"h6"},[t._v("Branch admin")]),t._v(" "),e("div",{staticClass:"d-flex"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.user_form.is_admin,expression:"user_form.is_admin"}],attrs:{type:"checkbox",value:"true"},domProps:{checked:Array.isArray(t.user_form.is_admin)?t._i(t.user_form.is_admin,"true")>-1:t.user_form.is_admin},on:{change:function(e){var s=t.user_form.is_admin,a=e.target,i=!!a.checked;if(Array.isArray(s)){var r="true",o=t._i(s,r);a.checked?o<0&&t.$set(t.user_form,"is_admin",s.concat([r])):o>-1&&t.$set(t.user_form,"is_admin",s.slice(0,o).concat(s.slice(o+1)))}else t.$set(t.user_form,"is_admin",i)}}}),t._v(" "),e("span",{staticClass:"text-muted"},[t._v("Can create / edit more branch users")])])]),t._v(" "),e("div",{staticClass:"alert alert-success mt-3",attrs:{role:"alert",id:"fade"}},[e("span",{staticClass:"font-weight-bolder font-size-h6"},[t._v("Saved Successfully")])]),t._v(" "),e("button",{staticClass:"btn font-weight-bolder font-size-h6 py-3 w-100 create_btn text-white mt-3"},[t._v(t._s(t.action)+" user")])],1)])],1)}),[],!1,null,"7395e01c",null).exports}}]);