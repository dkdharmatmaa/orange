"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7854],{4580:(e,t,r)=>{r.d(t,{Z:()=>a});var s=r(3645),i=r.n(s)()((function(e){return e[1]}));i.push([e.id,".fw-700[data-v-09b0e150]{font-weight:700}.input-box[data-v-09b0e150]{border:1px solid silver}.create_btn[data-v-09b0e150]{background:#00a1e4}#fade[data-v-09b0e150]{display:none}",""]);const a=i},7854:(e,t,r)=>{r.r(t),r.d(t,{default:()=>_});var s=r(175),i=r.n(s),a=r(478),n=r(629),o=r(1163);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function l(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!==u(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===u(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const d={data:function(){return{user_form:new(i())({id:"",name:"",email:"",password:"",branch_id:"",association_id:"",is_admin:!1}),options_branch:null,action:"Add"}},methods:{onSubmit:function(e){var t=this;e.preventDefault(),"Add"==this.action?a.Z.post("/user/create-user",this.user_form).then((function(e){e.data;t.$router.push("/all-users")})).catch((function(e){})):a.Z.put("/user/edit-user/".concat(this.user_form.id),this.user_form).then((function(e){e.data;$("#fade").fadeToggle(1e3),$("#fade").fadeToggle(1e3)}))},getData:function(e){var t=this;a.Z.get("/user/all-user/".concat(e)).then((function(e){var r=e.data;t.user_form.fill(r[0]),t.getBranches(),t.user_form.branch_id=r[0].branch_id+"/////"+r[0].branch_name}))},getBranches:function(){var e=this;a.Z.get("/user/all-branch").then((function(t){var r=t.data,s=[];s.push({value:"",text:"Assign branch"});for(var i=0;i<r.length;i++)s.push({value:r[i].id+"/////"+r[i].name,text:r[i].name});e.options_branch=s}))}},mounted:function(){this.currentUser.is_admin||(this.$store.dispatch(o.Nv),this.$router.push("/")),this.user_form.association_id=this.currentUser.association_id,this.get_item&&(this.getData(this.get_item),this.action="Edit"),this.getBranches()},computed:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({get_item:function(){return this.$route.params.id?this.$route.params.id:0}},(0,n.Se)({currentUser:"currentUser"}))};var f=r(3379),m=r.n(f),b=r(4580),p={insert:"head",singleton:!1};m()(b.Z,p);b.Z.locals;const _=(0,r(1900).Z)(d,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"mt-10 p-5"},[t("b-form",{staticClass:"w-md-50 fw-700",on:{submit:e.onSubmit}},[t("h3",{staticClass:"fw-700"},[e._v(e._s(e.action)+" users")]),e._v(" "),t("div",{staticClass:"bg-white p-10 rounded"},[t("div",{staticClass:"d-flex mb-7"},[t("b-form-input",{staticClass:"mx-1 input-box",attrs:{id:"input-1",type:"text",required:"",placeholder:"Name"},model:{value:e.user_form.name,callback:function(t){e.$set(e.user_form,"name",t)},expression:"user_form.name"}}),e._v(" "),t("b-form-input",{staticClass:"mx-1 input-box",attrs:{id:"input-2",type:"email",required:"",placeholder:"Email",readonly:"Edit"==e.action},model:{value:e.user_form.email,callback:function(t){e.$set(e.user_form,"email",t)},expression:"user_form.email"}})],1),e._v(" "),t("b-form-group",[t("b-form-select",{staticClass:"ml-1 input-box text-seconday",attrs:{id:"input-4",options:e.options_branch,required:""},model:{value:e.user_form.branch_id,callback:function(t){e.$set(e.user_form,"branch_id",t)},expression:"user_form.branch_id"}})],1),e._v(" "),"Add"==e.action?t("b-form-group",[t("b-form-input",{staticClass:"ml-1 input-box",attrs:{id:"input-5",type:"password",required:"",placeholder:"Password"},model:{value:e.user_form.password,callback:function(t){e.$set(e.user_form,"password",t)},expression:"user_form.password"}})],1):e._e(),e._v(" "),t("div",[t("div",{staticClass:"d-flex"},[t("div",{staticClass:"flex-fill border-top border-2 border-secondary h1"}),e._v(" "),t("div",{staticClass:"h6 text-center font-weight-bolder"},[e._v("Permission")]),e._v(" "),t("div",{staticClass:"flex-fill border-bottom border-2 border-secondary h1"})]),e._v(" "),t("p",{staticClass:"h6"},[e._v("Branch admin")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user_form.is_admin,expression:"user_form.is_admin"}],attrs:{type:"checkbox",value:"true"},domProps:{checked:Array.isArray(e.user_form.is_admin)?e._i(e.user_form.is_admin,"true")>-1:e.user_form.is_admin},on:{change:function(t){var r=e.user_form.is_admin,s=t.target,i=!!s.checked;if(Array.isArray(r)){var a="true",n=e._i(r,a);s.checked?n<0&&e.$set(e.user_form,"is_admin",r.concat([a])):n>-1&&e.$set(e.user_form,"is_admin",r.slice(0,n).concat(r.slice(n+1)))}else e.$set(e.user_form,"is_admin",i)}}}),e._v(" "),t("span",{staticClass:"text-muted"},[e._v("Can create / edit more branch users")])]),e._v(" "),t("div",{staticClass:"alert alert-success mt-3",attrs:{role:"alert",id:"fade"}},[t("span",{staticClass:"font-weight-bolder font-size-h6"},[e._v("Submit successfull...")])]),e._v(" "),t("button",{staticClass:"btn font-weight-bolder font-size-h6 py-3 w-100 create_btn text-white mt-3"},[e._v(e._s(e.action)+" user")])],1)])],1)}),[],!1,null,"09b0e150",null).exports}}]);