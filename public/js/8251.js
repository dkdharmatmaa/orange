"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8251],{943:(t,a,i)=>{i.d(a,{Z:()=>e});var n=i(3645),s=i.n(n)()((function(t){return t[1]}));s.push([t.id,".create_btn{background:#00a1e4;padding:2px 25px}",""]);const e=s},8251:(t,a,i)=>{i.r(a),i.d(a,{default:()=>l});var n=i(478);const s={name:"superadminallassociation",data:function(){return{main_arr:[],association_id:"",branch_id:"",options_association:[],options_branch:[]}},methods:{get_plans:function(){var t=this;this.main_arr=[],this.association_id&&this.branch_id?n.Z.get("/superadmin/all-matrix/".concat(this.association_id,"/").concat(this.branch_id)).then((function(a){for(var i in a.data){var n={minmum_range:"",maximum_range:"",fields:[],items:[]},s=a.data[i];n.minmum_range=s[0].minmum_range,n.maximum_range=s[0].maximum_range,n.fields=JSON.parse(s[0].fields),n.fields.splice(0,2);for(var e=0;e<s.length;e++){var r=JSON.parse(s[e].plans);delete r.index,delete r.action,n.items.push(r)}t.main_arr.push(n)}})):alert("Select correct Association and Baranch")},get_plans_clear:function(){this.main_arr=[]},getAssociation:function(){var t=this;this.options_branch.push({value:"",text:"Select branch"}),n.Z.get("/superadmin/all-admin").then((function(a){var i=a.data,n=[];n.push({value:"",text:"Select association"});for(var s=0;s<i.length;s++)n.push({value:i[s].id,text:i[s].name});t.options_association=n}))},getBranches:function(){var t=this;this.association_id&&n.Z.get("/superadmin/all-branch/0/".concat(this.association_id)).then((function(a){var i=a.data,n=[];n.push({value:"",text:"Select branch"});for(var s=0;s<i.length;s++)n.push({value:i[s].id,text:i[s].name});t.options_branch=n}))},delete_matrix:function(t){var a=this;confirm("Are you sure you want to delete this matrix?")&&n.Z.delete("/superadmin/delete-matrix/".concat(t,"/").concat(this.association_id,"/").concat(this.branch_id)).then((function(t){t.data;a.get_plans()}))}},mounted:function(){this.getAssociation()}};var e=i(3379),r=i.n(e),o=i(943),c={insert:"head",singleton:!1};r()(o.Z,c);o.Z.locals;const l=(0,i(1900).Z)(s,(function(){var t=this,a=t._self._c;return a("div",{staticClass:"mt-5"},[a("div",{staticClass:"d-flex ml-2 justify-content-between"},[t._m(0),t._v(" "),a("div",{staticClass:"d-flex"},[a("b-form-group",{staticClass:"ml-3"},[a("b-form-select",{staticClass:"input-box text-seconday",attrs:{id:"input-3",options:t.options_association,required:""},on:{change:function(a){t.getBranches(),t.get_plans_clear()}},model:{value:t.association_id,callback:function(a){t.association_id=a},expression:"association_id"}})],1),t._v(" "),a("b-form-group",{staticClass:"ml-3"},[a("b-form-select",{staticClass:"input-box text-seconday",attrs:{id:"input-4",options:t.options_branch,required:""},on:{change:function(a){return t.get_plans()}},model:{value:t.branch_id,callback:function(a){t.branch_id=a},expression:"branch_id"}})],1),t._v(" "),a("div",[a("button",{staticClass:"btn create_btn font-weight-bold py-2 ml-2"},[a("router-link",{staticClass:"text-white",attrs:{to:"/superadmin/new-matrix"}},[t._v("Add plans")])],1)])],1)]),t._v(" "),a("div",{staticClass:"mt-2",attrs:{id:"table_data"}},t._l(t.main_arr,(function(i){return a("div",[a("h5",{staticClass:"font-weight-bolder my-5"},[t._v("INCOME BAND - $"+t._s(i.minmum_range)+"-$"+t._s(i.maximum_range)+" "),a("router-link",{attrs:{to:"/superadmin/edit-matrix/"+t.association_id+"/"+t.branch_id+"/"+i.minmum_range+"/"+i.maximum_range}},[a("span",[a("i",{staticClass:"fas fa-edit"})])]),t._v(" | "),a("span",{staticClass:"text-danger",on:{click:function(a){return t.delete_matrix(i.minmum_range)}}},[a("svg",{staticClass:"bi bi-trash",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[a("path",{attrs:{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}}),a("path",{attrs:{"fill-rule":"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"}})])])],1),t._v(" "),a("div",{staticClass:"text-center bg-white px-5 py-10 mt-5 rounded"},[a("b-table",{staticStyle:{"white-space":"nowrap"},attrs:{bordered:!0,responsive:"",items:i.items,fields:i.fields}})],1)])})),0)])}),[function(){var t=this._self._c;return t("div",[t("h2",{staticClass:"font-weight-bolder"},[this._v("Financial aid matrix")])])}],!1,null,null,null).exports}}]);