"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8687],{6557:(e,t,i)=>{i.d(t,{Z:()=>r});var a=i(3645),n=i.n(a)()((function(e){return e[1]}));n.push([e.id,".create_btn[data-v-7181680a]{background:#00a1e4}#fade[data-v-7181680a]{display:none}button[data-v-7181680a]{border:0!important}.field_input[data-v-7181680a]{border:0;font-weight:600}",""]);const r=n},8687:(e,t,i)=>{i.r(t),i.d(t,{default:()=>_});var a=i(478);function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function s(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach((function(t){o(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function o(e,t,i){return(t=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,t||"default");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===n(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const l={data:function(){return{single_arr:{minmum_range:"",maximum_range:"",plan_name:"",fields:[],items:[]},edit_incomebind:!1,association_id:"",branch_id:"",search_minmum:"",search_maximum:""}},methods:{edit_plan:function(e){var t=$("#field_value_"+e).val(),i=this.single_arr.fields,a=this.single_arr.items,n=i[e];if(n!=t.trim()){for(var r=0;r<a.length;r++)a[r][t]=a[r][n],delete a[r][n];i[e]=t,this.single_arr.fields=i,this.single_arr.items=a,this.onSubmit(),this.getData()}},add_plan:function(){var e=this.single_arr,t=e.plan_name;e.fields.push(t);for(var i=0;i<e.items;i++)e.items[i].push({main_plan:""});this.single_arr.plan_name=""},add_no_of_people:function(){var e=this.single_arr.fields.reduce((function(e,t){return s(s({},e),{},o({},t,""))}),{});this.single_arr.items.push(e)},delete_plan:function(e,t){this.single_arr.fields.splice(e,1);for(var i=0;i<this.single_arr.items.length;i++)delete this.single_arr.items[i][t]},delete_row:function(e){this.single_arr.items.splice(e,1)},onSubmit:function(){a.Z.put("/superadmin/edit-matrix/".concat(this.association_id,"/").concat(this.branch_id,"/").concat(this.search_minmum,"/").concat(this.search_maximum),this.single_arr).then((function(e){e.data;$("#fade").fadeToggle(1e3),$("#fade").fadeToggle(1e3)})).catch((function(e){}))},getData:function(){var e=this;a.Z.get("/superadmin/single-matrix/".concat(this.association_id,"/").concat(this.branch_id,"/").concat(this.search_minmum,"/").concat(this.search_maximum)).then((function(t){var i=t.data;e.single_arr.fields=[],e.single_arr.items=[],e.single_arr.maximum_range=i[0].maximum_range,e.single_arr.minmum_range=i[0].minmum_range,e.single_arr.fields=JSON.parse(i[0].fields);for(var a=0;a<i.length;a++){var n=JSON.parse(i[a].plans);e.single_arr.items.push(n)}e.data_loading=!0}))}},mounted:function(){},created:function(){this.association_id=this.$route.params.association_id,this.branch_id=this.$route.params.branch_id,this.search_minmum=this.$route.params.minmum_range,this.search_maximum=this.$route.params.maximum_range,this.getData()}};var c=i(3379),d=i.n(c),m=i(6557),u={insert:"head",singleton:!1};d()(m.Z,u);m.Z.locals;const _=(0,i(1900).Z)(l,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"mt-5"},[e._m(0),e._v(" "),t("div",{staticClass:"bg-white px-5 py-10 mt-5 rounded"},[e.edit_incomebind?t("div",{staticClass:"d-flex my-8"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.single_arr.minmum_range,expression:"single_arr.minmum_range"}],staticClass:"border rounded border-secondary bg-white ml-2 p-1",attrs:{type:"number",placeholder:"Minimum income in $"},domProps:{value:e.single_arr.minmum_range},on:{input:function(t){t.target.composing||e.$set(e.single_arr,"minmum_range",t.target.value)}}}),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.single_arr.maximum_range,expression:"single_arr.maximum_range"}],staticClass:"border rounded border-secondary bg-white ml-2 p-1",attrs:{type:"number",placeholder:"Maximum income in $"},domProps:{value:e.single_arr.maximum_range},on:{input:function(t){t.target.composing||e.$set(e.single_arr,"maximum_range",t.target.value)}}}),e._v(" "),t("button",{staticClass:"btn create_btn font-weight-bolder py-2 ml-2 text-white",on:{click:function(t){e.edit_incomebind=!e.edit_incomebind}}},[e._v("Save")])]):t("div",{staticClass:"d-flex"},[t("h3",{staticClass:"font-weight-bolder mb-4"},[e._v("Income band - $"+e._s(e.single_arr.minmum_range)+"-$"+e._s(e.single_arr.maximum_range))]),e._v("\n          Â "),t("span",{on:{click:function(t){e.edit_incomebind=!e.edit_incomebind}}},[t("i",{staticClass:"fas fa-edit"})])]),e._v(" "),t("button",{staticClass:"create_btn font-weight-bolder text-white rounded p-1"},[e._v("+Add plan")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.single_arr.plan_name,expression:"single_arr.plan_name"}],staticClass:"rounded p-1",staticStyle:{border:"2px solid silver"},attrs:{type:"text"},domProps:{value:e.single_arr.plan_name},on:{blur:function(t){return e.add_plan()},input:function(t){t.target.composing||e.$set(e.single_arr,"plan_name",t.target.value)}}}),e._v(" "),t("b-table",{staticStyle:{"white-space":"nowrap"},attrs:{responsive:"",items:e.single_arr.items,fields:e.single_arr.fields},scopedSlots:e._u([e._l(e.single_arr.fields,(function(i,a){return{key:"head(".concat(i,")"),fn:function(i){return["index"==i.field.key?t("span"):"action"==i.field.key||"no_of_people"==i.field.key?t("span",{domProps:{innerHTML:e._s(i.field.label)}}):t("input",{staticClass:"field_input",attrs:{type:"text",id:"field_value_"+a},domProps:{value:e.single_arr.fields[a]},on:{blur:function(t){return e.edit_plan(a)}}}),e._v(" "),"action"!=i.field.key&&"index"!=i.field.key&&"no_of_people"!=i.field.key?t("span",{staticClass:"text-danger",on:{click:function(t){return e.delete_plan(a,i.field.key)}}},[e._v(" | "),t("svg",{staticClass:"bi bi-trash",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[t("path",{attrs:{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}}),t("path",{attrs:{"fill-rule":"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"}})])]):e._e()]}}})),e._l(e.single_arr.fields,(function(i){return{key:"cell(".concat(i,")"),fn:function(i){return["action"==i.field.key?[t("span",{staticClass:"text-danger",on:{click:function(t){return e.delete_row(i.index)}}},[t("svg",{staticClass:"bi bi-trash",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[t("path",{attrs:{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}}),t("path",{attrs:{"fill-rule":"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"}})])])]:"index"!=i.field.key?[t("input",{directives:[{name:"model",rawName:"v-model",value:i.item[i.field.key],expression:"data.item[data.field.key]"}],staticClass:"rounded p-1",staticStyle:{border:"2px solid silver"},attrs:{type:"text"},domProps:{value:i.item[i.field.key]},on:{input:function(t){t.target.composing||e.$set(i.item,i.field.key,t.target.value)}}})]:e._e()]}}}))],null,!0)}),e._v(" "),t("div",[t("button",{staticClass:"create_btn font-weight-bolder text-white rounded p-1",on:{click:function(t){return e.add_no_of_people()}}},[e._v("+Add people")])])],1),e._v(" "),e._m(1),e._v(" "),t("div",{staticClass:"my-10 text-center"},[t("button",{staticClass:"btn create_btn font-weight-bolder text-white w-50 h3",on:{click:e.onSubmit}},[e._v("Submit details")])])])}),[function(){var e=this._self._c;return e("div",[e("h2",{staticClass:"font-weight-bolder"},[this._v("Edit plans")])])},function(){var e=this._self._c;return e("div",{staticClass:"alert alert-success mt-3",attrs:{role:"alert",id:"fade"}},[e("span",{staticClass:"font-weight-bolder font-size-h6"},[this._v("Saved Successfully")])])}],!1,null,"7181680a",null).exports}}]);